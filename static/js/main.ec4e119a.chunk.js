(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{10:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(2),o=a(3),l=a(1),r=a(5),c=a(4),k=(a(10),function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={isEdit:!1,value:""},s.onClickRemove=s.onClickRemove.bind(Object(l.a)(s)),s.onClickDone=s.onClickDone.bind(Object(l.a)(s)),s.onDoubleClickEdit=s.onDoubleClickEdit.bind(Object(l.a)(s)),s.handleChange=s.handleChange.bind(Object(l.a)(s)),s.onBlur=s.onBlur.bind(Object(l.a)(s)),s.onKeyDown=s.onKeyDown.bind(Object(l.a)(s)),s}return Object(o.a)(a,[{key:"onClickRemove",value:function(){var e=this.props.id;this.props.removeTask(e)}},{key:"onClickDone",value:function(){var e=parseInt(this.props.id);this.props.taskDone(e)}},{key:"onDoubleClickEdit",value:function(){var e=this.props.item.text;this.setState({value:e,isEdit:!0})}},{key:"onBlur",value:function(){var e=this.state.value.trim();if(e)this.props.editTask(this.props.item.id,e),this.setState({value:"",isEdit:!1});else{var t=this.props.item.id;this.props.removeTask(t),this.setState({value:"",isEdit:!1})}}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"onKeyDown",value:function(e){switch(e.key){case"Enter":var t=this.state.value.trim();if(t)this.props.editTask(this.props.item.id,t),this.setState({value:"",isEdit:!1});else{var a=this.props.item.id;this.props.removeTask(a),this.setState({value:"",isEdit:!1})}break;case"Escape":this.setState({isEdit:!1});break;default:return}}},{key:"render",value:function(){var e=this.props.item.done?"task__text_done":"",t=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"task__manage"},n.a.createElement("input",{type:"checkbox",checked:this.props.item.done,onClick:this.onClickDone,className:"task__checkbox"})),n.a.createElement("div",{className:"task__body"},n.a.createElement("p",{className:"task__text ".concat(e)},this.props.item.text)),n.a.createElement("div",{className:"task__manage"},n.a.createElement("div",{className:"task__remove",onClick:this.onClickRemove},"\xd7"))),a=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"task__manage"}),n.a.createElement("input",{className:"task__edit",autoFocus:!0,value:this.state.value,onKeyDown:this.onKeyDown,onChange:this.handleChange,onFocus:this.onFocus,onBlur:this.onBlur})),s=this.state.isEdit?a:t;return n.a.createElement("li",{className:"to-do-list__item",onDoubleClick:this.onDoubleClickEdit},n.a.createElement("div",{className:"task"},s))}}]),a}(n.a.Component)),u=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={currentTasks:"all"},s.onClickRemoveDone=s.onClickRemoveDone.bind(Object(l.a)(s)),s.onClickShowDone=s.onClickShowDone.bind(Object(l.a)(s)),s.onClickShowUndone=s.onClickShowUndone.bind(Object(l.a)(s)),s.onClickShowAll=s.onClickShowAll.bind(Object(l.a)(s)),s}return Object(o.a)(a,[{key:"onClickRemoveDone",value:function(){this.props.removeDone()}},{key:"onClickShowDone",value:function(){this.setState({currentTasks:"done"})}},{key:"onClickShowUndone",value:function(){this.setState({currentTasks:"undone"})}},{key:"onClickShowAll",value:function(){this.setState({currentTasks:"all"})}},{key:"render",value:function(){var e=this,t=this.props.tasks,a=this.props.tasks.filter((function(e){return!0===e.done})),s=a.length,i=t.length-a.length,o=s>0?"task-menu__clear":"task-menu__clear_hidden",l=1===t.length?" item":" items";switch(this.state.currentTasks){case"all":t=t.map((function(t){return n.a.createElement(k,{item:t,id:t.id,removeTask:e.props.removeTask,taskDone:e.props.taskDone,editTask:e.props.editTask})}));break;case"done":t=a.map((function(t){return n.a.createElement(k,{item:t,id:t.id,removeTask:e.props.removeTask,taskDone:e.props.taskDone,editTask:e.props.editTask})}));break;case"undone":t=this.props.tasks.filter((function(e){return!1===e.done})).map((function(t){return n.a.createElement(k,{item:t,id:t.id,removeTask:e.props.removeTask,taskDone:e.props.taskDone,editTask:e.props.editTask})}));break;default:return}return n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"task-list"},t),n.a.createElement("div",{className:"task-menu"},n.a.createElement("div",{className:"task-menu__counter"},n.a.createElement("p",null," ",i+l+" left"," ")),n.a.createElement("div",{className:"task-menu__filter"},n.a.createElement("div",{className:"all"===this.state.currentTasks?"task-menu__btn task-menu__btn_chosen":"task-menu__btn",onClick:this.onClickShowAll},"All"),n.a.createElement("div",{className:"undone"===this.state.currentTasks?"task-menu__btn task-menu__btn_chosen":"task-menu__btn",onClick:this.onClickShowUndone},"Active"),n.a.createElement("div",{className:"done"===this.state.currentTasks?"task-menu__btn task-menu__btn_chosen":"task-menu__btn",onClick:this.onClickShowDone},"Completed")),n.a.createElement("div",{className:o},n.a.createElement("div",{className:"task-menu__btn-clear",onClick:this.onClickRemoveDone},"Clear completed"))))}}]),a}(n.a.Component),h=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={value:"",allDone:!1},s.handleChange=s.handleChange.bind(Object(l.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(l.a)(s)),s.onClickDoneAll=s.onClickDoneAll.bind(Object(l.a)(s)),s}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this.state.value.trim();t&&this.props.addTask(t),this.setState({value:""}),e.preventDefault()}},{key:"onClickDoneAll",value:function(){var e=this.props.tasks;0!==e.length&&(e.some((function(e){return!1===e.done}))?(this.props.allTasksDone(!0),this.setState({allDone:!0})):(this.props.allTasksDone(!1),this.setState({allDone:!1})))}},{key:"render",value:function(){var e=this.state.allDone&&!this.props.tasks.some((function(e){return!1===e.done}))&&this.props.tasks.length>0?"task-selector__btn task-selector__btn_chosen":"task-selector__btn";return n.a.createElement("form",{onSubmit:this.handleSubmit,className:"new-task"},n.a.createElement("div",{className:"task-selector"},n.a.createElement("p",{onClick:this.onClickDoneAll,className:e},"\u276f")),n.a.createElement("input",{placeholder:"What needs to be done?",className:"new-task__input",autoFocus:!0,type:"text",onChange:this.handleChange,value:this.state.value}),n.a.createElement("div",{className:"new-task__controls"},n.a.createElement("button",{className:"new-task__btn",id:"new-task__btn"},"Add")))}}]),a}(n.a.Component),m=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={tasks:[],counter:-1},s.addTask=s.addTask.bind(Object(l.a)(s)),s.removeTask=s.removeTask.bind(Object(l.a)(s)),s.taskDone=s.taskDone.bind(Object(l.a)(s)),s.editTask=s.editTask.bind(Object(l.a)(s)),s.removeDone=s.removeDone.bind(Object(l.a)(s)),s.allTasksDone=s.allTasksDone.bind(Object(l.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("tasks");if(e){var t=JSON.parse(e);this.setState({tasks:t,counter:t.length})}}},{key:"addTask",value:function(e){var t=this.state.counter+1;this.state.tasks.push({id:t,text:e,done:!1});var a=this.state.tasks.slice();localStorage.setItem("tasks",JSON.stringify(a)),this.setState({tasks:a,counter:t})}},{key:"removeTask",value:function(e){var t=this.state.tasks.filter((function(t){return t.id!==e}));localStorage.setItem("tasks",JSON.stringify(t)),this.setState({tasks:t})}},{key:"removeDone",value:function(){var e=this.state.tasks.filter((function(e){return!0!==e.done}));localStorage.setItem("tasks",JSON.stringify(e)),this.setState({tasks:e})}},{key:"taskDone",value:function(e){var t=this.state.tasks.find((function(t){return t.id===e}));t.done=!t.done;var a=this.state.tasks.slice();localStorage.setItem("tasks",JSON.stringify(a)),this.setState({tasks:a})}},{key:"allTasksDone",value:function(e){this.state.tasks.forEach((function(t){return t.done=e}));var t=this.state.tasks.slice();localStorage.setItem("tasks",JSON.stringify(t)),this.setState({tasks:t})}},{key:"editTask",value:function(e,t){this.state.tasks.find((function(t){return t.id===e})).text=t;var a=this.state.tasks.slice();localStorage.setItem("tasks",JSON.stringify(a)),this.setState({tasks:a})}},{key:"render",value:function(){return n.a.createElement("div",{className:"wrapper"},n.a.createElement("header",{className:"header"},n.a.createElement("h1",{className:"header__text"},"todos")),n.a.createElement("div",{className:"to-do-app"},n.a.createElement(h,{tasks:this.state.tasks,addTask:this.addTask,allTasksDone:this.allTasksDone}),n.a.createElement(u,{tasks:this.state.tasks,removeTask:this.removeTask,removeDone:this.removeDone,taskDone:this.taskDone,editTask:this.editTask})))}}]),a}(n.a.Component),d=a(7);a.n(d).a.render(n.a.createElement(m,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.ec4e119a.chunk.js.map